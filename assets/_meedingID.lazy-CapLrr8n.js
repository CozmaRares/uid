import{c as G,r as a,m as ue,u as j,j as o,l as A,n as I,o as y,p as C,q as he,a as Y,d as fe,N as me,B as be}from"./index-CF_X6mMS.js";import{z as $,u as pe,F as ve,a as Se,b as xe,c as ge,e as we,d as Ce,t as ye}from"./form-DAhBJsJp.js";import{m as Pe,R as Re,V as je}from"./meetings-efq3jBYG.js";import{I as Ee}from"./input-QIymjnz1.js";import{T as Te,a as Ae}from"./Title-CNPnNh23.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=G("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=G("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var _e=a.createContext(void 0);function De(e){const t=a.useContext(_e);return e||t||"ltr"}function ze(e,[t,r]){return Math.min(r,Math.max(t,e))}function We(e,t){return a.useReducer((r,l)=>t[r][l]??r,e)}var X="ScrollArea",[J,ar]=ue(X),[He,S]=J(X),K=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:l="hover",dir:n,scrollHideDelay:s=600,...c}=e,[i,d]=a.useState(null),[f,u]=a.useState(null),[m,h]=a.useState(null),[b,v]=a.useState(null),[E,M]=a.useState(null),[w,N]=a.useState(0),[V,L]=a.useState(0),[_,T]=a.useState(!1),[D,z]=a.useState(!1),p=j(t,P=>d(P)),x=De(n);return o.jsx(He,{scope:r,type:l,dir:x,scrollHideDelay:s,scrollArea:i,viewport:f,onViewportChange:u,content:m,onContentChange:h,scrollbarX:b,onScrollbarXChange:v,scrollbarXEnabled:_,onScrollbarXEnabledChange:T,scrollbarY:E,onScrollbarYChange:M,scrollbarYEnabled:D,onScrollbarYEnabledChange:z,onCornerWidthChange:N,onCornerHeightChange:L,children:o.jsx(A.div,{dir:x,...c,ref:p,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":V+"px",...e.style}})})});K.displayName=X;var Q="ScrollAreaViewport",Z=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:l,nonce:n,...s}=e,c=S(Q,r),i=a.useRef(null),d=j(t,i,c.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(A.div,{"data-radix-scroll-area-viewport":"",...s,ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});Z.displayName=Q;var g="ScrollAreaScrollbar",k=a.forwardRef((e,t)=>{const{forceMount:r,...l}=e,n=S(g,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:c}=n,i=e.orientation==="horizontal";return a.useEffect(()=>(i?s(!0):c(!0),()=>{i?s(!1):c(!1)}),[i,s,c]),n.type==="hover"?o.jsx(Ie,{...l,ref:t,forceMount:r}):n.type==="scroll"?o.jsx(Fe,{...l,ref:t,forceMount:r}):n.type==="auto"?o.jsx(ee,{...l,ref:t,forceMount:r}):n.type==="always"?o.jsx(U,{...l,ref:t}):null});k.displayName=g;var Ie=a.forwardRef((e,t)=>{const{forceMount:r,...l}=e,n=S(g,e.__scopeScrollArea),[s,c]=a.useState(!1);return a.useEffect(()=>{const i=n.scrollArea;let d=0;if(i){const f=()=>{window.clearTimeout(d),c(!0)},u=()=>{d=window.setTimeout(()=>c(!1),n.scrollHideDelay)};return i.addEventListener("pointerenter",f),i.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),i.removeEventListener("pointerenter",f),i.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),o.jsx(I,{present:r||s,children:o.jsx(ee,{"data-state":s?"visible":"hidden",...l,ref:t})})}),Fe=a.forwardRef((e,t)=>{const{forceMount:r,...l}=e,n=S(g,e.__scopeScrollArea),s=e.orientation==="horizontal",c=O(()=>d("SCROLL_END"),100),[i,d]=We("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return a.useEffect(()=>{if(i==="idle"){const f=window.setTimeout(()=>d("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(f)}},[i,n.scrollHideDelay,d]),a.useEffect(()=>{const f=n.viewport,u=s?"scrollLeft":"scrollTop";if(f){let m=f[u];const h=()=>{const b=f[u];m!==b&&(d("SCROLL"),c()),m=b};return f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[n.viewport,s,d,c]),o.jsx(I,{present:r||i!=="hidden",children:o.jsx(U,{"data-state":i==="hidden"?"hidden":"visible",...l,ref:t,onPointerEnter:y(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:y(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),ee=a.forwardRef((e,t)=>{const r=S(g,e.__scopeScrollArea),{forceMount:l,...n}=e,[s,c]=a.useState(!1),i=e.orientation==="horizontal",d=O(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;c(i?f:u)}},10);return R(r.viewport,d),R(r.content,d),o.jsx(I,{present:l||s,children:o.jsx(U,{"data-state":s?"visible":"hidden",...n,ref:t})})}),U=a.forwardRef((e,t)=>{const{orientation:r="vertical",...l}=e,n=S(g,e.__scopeScrollArea),s=a.useRef(null),c=a.useRef(0),[i,d]=a.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=le(i.viewport,i.content),u={...l,sizes:i,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:h=>c.current=h};function m(h,b){return ke(h,c.current,i,b)}return r==="horizontal"?o.jsx(Oe,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&s.current){const h=n.viewport.scrollLeft,b=q(h,i,n.dir);s.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:h=>{n.viewport&&(n.viewport.scrollLeft=h)},onDragScroll:h=>{n.viewport&&(n.viewport.scrollLeft=m(h,n.dir))}}):r==="vertical"?o.jsx(Me,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&s.current){const h=n.viewport.scrollTop,b=q(h,i);s.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:h=>{n.viewport&&(n.viewport.scrollTop=h)},onDragScroll:h=>{n.viewport&&(n.viewport.scrollTop=m(h))}}):null}),Oe=a.forwardRef((e,t)=>{const{sizes:r,onSizesChange:l,...n}=e,s=S(g,e.__scopeScrollArea),[c,i]=a.useState(),d=a.useRef(null),f=j(t,d,s.onScrollbarXChange);return a.useEffect(()=>{d.current&&i(getComputedStyle(d.current))},[d]),o.jsx(te,{"data-orientation":"horizontal",...n,ref:f,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":F(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(s.viewport){const h=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),ae(h,m)&&u.preventDefault()}},onResize:()=>{d.current&&s.viewport&&c&&l({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:H(c.paddingLeft),paddingEnd:H(c.paddingRight)}})}})}),Me=a.forwardRef((e,t)=>{const{sizes:r,onSizesChange:l,...n}=e,s=S(g,e.__scopeScrollArea),[c,i]=a.useState(),d=a.useRef(null),f=j(t,d,s.onScrollbarYChange);return a.useEffect(()=>{d.current&&i(getComputedStyle(d.current))},[d]),o.jsx(te,{"data-orientation":"vertical",...n,ref:f,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":F(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(s.viewport){const h=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),ae(h,m)&&u.preventDefault()}},onResize:()=>{d.current&&s.viewport&&c&&l({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:H(c.paddingTop),paddingEnd:H(c.paddingBottom)}})}})}),[Ve,re]=J(g),te=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:l,hasThumb:n,onThumbChange:s,onThumbPointerUp:c,onThumbPointerDown:i,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:u,onResize:m,...h}=e,b=S(g,r),[v,E]=a.useState(null),M=j(t,p=>E(p)),w=a.useRef(null),N=a.useRef(""),V=b.viewport,L=l.content-l.viewport,_=C(u),T=C(d),D=O(m,10);function z(p){if(w.current){const x=p.clientX-w.current.left,P=p.clientY-w.current.top;f({x,y:P})}}return a.useEffect(()=>{const p=x=>{const P=x.target;(v==null?void 0:v.contains(P))&&_(x,L)};return document.addEventListener("wheel",p,{passive:!1}),()=>document.removeEventListener("wheel",p,{passive:!1})},[V,v,L,_]),a.useEffect(T,[l,T]),R(v,D),R(b.content,D),o.jsx(Ve,{scope:r,scrollbar:v,hasThumb:n,onThumbChange:C(s),onThumbPointerUp:C(c),onThumbPositionChange:T,onThumbPointerDown:C(i),children:o.jsx(A.div,{...h,ref:M,style:{position:"absolute",...h.style},onPointerDown:y(e.onPointerDown,p=>{p.button===0&&(p.target.setPointerCapture(p.pointerId),w.current=v.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),z(p))}),onPointerMove:y(e.onPointerMove,z),onPointerUp:y(e.onPointerUp,p=>{const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),document.body.style.webkitUserSelect=N.current,b.viewport&&(b.viewport.style.scrollBehavior=""),w.current=null})})})}),W="ScrollAreaThumb",oe=a.forwardRef((e,t)=>{const{forceMount:r,...l}=e,n=re(W,e.__scopeScrollArea);return o.jsx(I,{present:r||n.hasThumb,children:o.jsx(Ye,{ref:t,...l})})}),Ye=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:l,...n}=e,s=S(W,r),c=re(W,r),{onThumbPositionChange:i}=c,d=j(t,m=>c.onThumbChange(m)),f=a.useRef(),u=O(()=>{f.current&&(f.current(),f.current=void 0)},100);return a.useEffect(()=>{const m=s.viewport;if(m){const h=()=>{if(u(),!f.current){const b=Ue(m,i);f.current=b,i()}};return i(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[s.viewport,u,i]),o.jsx(A.div,{"data-state":c.hasThumb?"visible":"hidden",...n,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...l},onPointerDownCapture:y(e.onPointerDownCapture,m=>{const b=m.target.getBoundingClientRect(),v=m.clientX-b.left,E=m.clientY-b.top;c.onThumbPointerDown({x:v,y:E})}),onPointerUp:y(e.onPointerUp,c.onThumbPointerUp)})});oe.displayName=W;var B="ScrollAreaCorner",ne=a.forwardRef((e,t)=>{const r=S(B,e.__scopeScrollArea),l=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&l?o.jsx(Xe,{...e,ref:t}):null});ne.displayName=B;var Xe=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,...l}=e,n=S(B,r),[s,c]=a.useState(0),[i,d]=a.useState(0),f=!!(s&&i);return R(n.scrollbarX,()=>{var m;const u=((m=n.scrollbarX)==null?void 0:m.offsetHeight)||0;n.onCornerHeightChange(u),d(u)}),R(n.scrollbarY,()=>{var m;const u=((m=n.scrollbarY)==null?void 0:m.offsetWidth)||0;n.onCornerWidthChange(u),c(u)}),f?o.jsx(A.div,{...l,ref:t,style:{width:s,height:i,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function H(e){return e?parseInt(e,10):0}function le(e,t){const r=e/t;return isNaN(r)?0:r}function F(e){const t=le(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,l=(e.scrollbar.size-r)*t;return Math.max(l,18)}function ke(e,t,r,l="ltr"){const n=F(r),s=n/2,c=t||s,i=n-c,d=r.scrollbar.paddingStart+c,f=r.scrollbar.size-r.scrollbar.paddingEnd-i,u=r.content-r.viewport,m=l==="ltr"?[0,u]:[u*-1,0];return se([d,f],m)(e)}function q(e,t,r="ltr"){const l=F(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-n,c=t.content-t.viewport,i=s-l,d=r==="ltr"?[0,c]:[c*-1,0],f=ze(e,d);return se([0,c],[0,i])(f)}function se(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const l=(t[1]-t[0])/(e[1]-e[0]);return t[0]+l*(r-e[0])}}function ae(e,t){return e>0&&e<t}var Ue=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},l=0;return function n(){const s={left:e.scrollLeft,top:e.scrollTop},c=r.left!==s.left,i=r.top!==s.top;(c||i)&&t(),r=s,l=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(l)};function O(e,t){const r=C(e),l=a.useRef(0);return a.useEffect(()=>()=>window.clearTimeout(l.current),[]),a.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(r,t)},[r,t])}function R(e,t){const r=C(t);he(()=>{let l=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(l),l=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(l),n.unobserve(e)}}},[e,r])}var ce=K,Be=Z,$e=ne;const ie=a.forwardRef(({className:e,children:t,...r},l)=>o.jsxs(ce,{ref:l,className:Y("relative overflow-hidden",e),...r,children:[o.jsx(Be,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(de,{}),o.jsx($e,{})]}));ie.displayName=ce.displayName;const de=a.forwardRef(({className:e,orientation:t="vertical",...r},l)=>o.jsx(k,{ref:l,orientation:t,className:Y("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(oe,{className:"relative flex-1 rounded-full bg-border"})}));de.displayName=k.displayName;const qe=fe("/meetings/$meedingID")({component:Ge});function Ge(){const{meedingID:e}=qe.useParams(),t=Pe.find(r=>r.id===e);return t?o.jsxs("div",{className:"mx-auto grid max-w-screen-xl grid-cols-1 gap-4 p-4 lg:grid-cols-[5fr,3fr] lg:grid-rows-[60vh,auto] xl:grid-cols-[2fr,1fr]",children:[o.jsx(Je,{status:t.status}),o.jsx(Ke,{status:t.status,messages:t.messages??[]}),o.jsx(Qe,{title:t.title}),o.jsx(er,{status:t.status,onSubmit:r=>{console.log(r)}})]},e):o.jsx(me,{})}function Je({status:e}){return o.jsxs("div",{className:"relative aspect-video h-full w-full overflow-hidden rounded-lg bg-gray-900",children:[e==="upcoming"?o.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-white",children:[o.jsx(Ne,{className:"mx-auto mb-4 h-16 w-16"}),o.jsx("p",{className:"sm:text-xl",children:"Upcoming Stream"})]}):o.jsxs("video",{className:"h-full w-full object-cover",children:[o.jsx("source",{type:"video/mp4"}),"Your browser does not support the video tag."]}),e!=="upcoming"&&o.jsx("div",{className:"absolute left-4 top-4 flex items-center rounded-full bg-black bg-opacity-60 px-2 py-1 text-white",children:e==="live"?o.jsxs(o.Fragment,{children:[o.jsx(Re,{className:"mr-1 h-4 w-4 text-red-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Live"})]}):o.jsxs(o.Fragment,{children:[o.jsx(je,{className:"mr-1 h-4 w-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Recorded"})]})})]})}function Ke({status:e,messages:t}){return o.jsx(ie,{className:Y("relative max-h-[400px] rounded-lg border bg-gray-100 p-2 lg:max-h-full",e==="upcoming"&&"bg-gray-100/70"),children:e==="upcoming"?o.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center",children:"Chat is not available yet"}):o.jsx("ul",{children:t.map((r,l)=>o.jsxs("div",{className:"rounded-lg",children:[o.jsx("p",{className:"font-semibold",children:r.author}),o.jsx("p",{children:r.content})]},l))})})}function Qe({title:e}){return o.jsx(Te,{className:"row-start-2 border-0",variant:"page",children:o.jsx(Ae,{className:"font-medium lg:text-4xl",children:e})})}const Ze=$.object({message:$.string().min(1)});function er({status:e,onSubmit:t}){const r=pe({resolver:ye(Ze),defaultValues:{message:e==="live"?"":"Chat not available"}}),l=e!=="live",n=e==="recorded";return o.jsx(ve,{...r,children:o.jsxs("form",{onSubmit:r.handleSubmit(t),className:"flex space-x-2",children:[o.jsx(Se,{control:r.control,name:"message",render:({field:s})=>o.jsxs(xe,{className:"flex-grow space-y-0",children:[o.jsx(ge,{className:"sr-only",children:"Alternative Solution"}),o.jsx(we,{children:o.jsx(Ee,{type:"text",placeholder:n?"Chat is read-only":"Type a message...",disabled:l,className:"flex-grow disabled:cursor-default",...s})}),o.jsx(Ce,{})]})}),o.jsxs(be,{type:"submit",disabled:l,children:[o.jsx(Le,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Send"})]})]})})}export{qe as Route};
